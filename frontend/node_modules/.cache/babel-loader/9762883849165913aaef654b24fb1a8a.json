{"ast":null,"code":"var _jsxFileName = \"/Users/gustavosantoro/Documents/repos/siriex/frontend/src/pages/ocorrencias.js\";\nimport React, { Component } from 'react';\nimport './pages.css';\nimport api from '../services/api';\nimport Moment from 'react-moment';\n\nclass Ocorrencias extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      search: null,\n      nome: null,\n      local: null,\n      datahora: null,\n      tipo: null,\n      solicitante: null,\n      tipoexplosivo: null,\n      tipoobjeto: null,\n      caracteristicasfisicas: null,\n      motivacao: null,\n      iis: null,\n      metodologia: null,\n      aprovado: false,\n      policial: this.props.location.state.policial,\n      // preciso fazer a lógica para pegar o atual user\n      administrador: this.props.location.state.administrador,\n      // preciso fazer a lógica de pegar o administrador que aprovar.\n      observacoes: null,\n      currentId: 0,\n      ocorrencias: [],\n      admin: this.props.location.state.admin\n    };\n\n    this.showNotApproved = async e => {\n      const response = await api.get('occurrencesnot');\n      this.setState({\n        ocorrencias: response.data\n      });\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      const response = await api.post(\"/occurrences/\".concat(this.state.search));\n      this.setState({\n        ocorrencias: response.data\n      });\n    };\n\n    this.handleFormSubmit = async e => {\n      e.preventDefault();\n      const data = {\n        nome: this.state.nome,\n        local: this.state.local,\n        datahora: this.state.datahora,\n        tipo: this.state.tipo,\n        solicitante: this.state.solicitante,\n        tipoexplosivo: this.state.tipoexplosivo,\n        tipoobjeto: this.state.tipoobjeto,\n        caracteristicasfisicas: this.state.caracteristicasfisicas,\n        motivacao: this.state.motivacao,\n        iis: this.state.iis,\n        metodologia: this.state.metodologia,\n        aprovado: this.state.aprovado,\n        policial: this.state.policial,\n        observacoes: this.state.observacoes\n      };\n\n      if (data.nome && data.local && data.datahora && data.tipo && data.solicitante && data.tipoexplosivo && data.tipoobjeto && data.caracteristicasfisicas && data.motivacao && data.iis && data.metodologia) {\n        await api.post('/newoccurrence', data);\n        alert(\"Ocorrência cadastrada com sucesso.\");\n      } else {\n        alert(\"Preencha todos os campos, apenas observações é opcional.\");\n      }\n    };\n  }\n\n  async componentDidMount() {\n    const response = await api.get('occurrences');\n    this.setState({\n      ocorrencias: response.data\n    }); // console.log(\"User: \", this.state.policial);\n    // console.log(\"ADMIN: \", this.state.admin);\n    // console.log(\"User2: \", this.state.administrador);\n  }\n\n  async handleTableClick(id) {\n    var x = document.getElementById(\"listar-ocorrencias\");\n    x.style.display = \"none\";\n    var y = document.getElementById(\"aprovar-ocorrencias\");\n    y.style.display = \"none\";\n    var z = document.getElementById(\"mais-detalhes\");\n    z.style.display = \"block\";\n    this.setState({\n      currentId: id\n    });\n    const response = await api.post(\"/occurrences/id/\".concat(id));\n    this.setState({\n      ocorrencias: response.data\n    });\n  }\n\n  async handleAprovarClick(id) {\n    if (id === 0) {\n      alert(\"nenhuma ocorrencia selecionada, por favor selecione uma\");\n    } else {\n      const response = await api.post(\"/occurrences/aprove/\".concat(id, \"&\").concat(this.state.administrador));\n\n      if (response) {\n        alert(\"Ocorrência aprovada.\");\n      } // preciso implementar passando o atual usuário\n\n    }\n  }\n\n  render() {\n    function showListar() {\n      change();\n      var x = document.getElementById(\"listar-ocorrencias\");\n      x.style.display = \"block\";\n    }\n\n    function showCadastrar() {\n      change();\n      var x = document.getElementById(\"cadastrar-ocorrencias\");\n      x.style.display = \"block\";\n    }\n\n    function showAprovar() {\n      change();\n      var x = document.getElementById(\"aprovar-ocorrencias\");\n      x.style.display = \"block\";\n      var y = document.getElementById(\"button-aprovar\");\n      y.style.display = \"block\";\n    }\n\n    function change() {\n      var x = document.getElementById(\"btn-listar\");\n      x.style.display = \"none\";\n      var y = document.getElementById(\"btn-cadastrar\");\n      y.style.display = \"none\";\n      var z = document.getElementById(\"btn-aprovar\");\n      if (z) z.style.display = \"none\";\n    }\n\n    return React.createElement(\"div\", {\n      id: \"app\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"OCORR\\xCANCIAS\"), React.createElement(\"button\", {\n      onClick: showListar,\n      id: \"btn-listar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Listar\"), React.createElement(\"button\", {\n      onClick: showCadastrar,\n      id: \"btn-cadastrar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Cadastrar\"), this.state.admin ? React.createElement(\"button\", {\n      onClick: () => {\n        this.showNotApproved();\n        showAprovar();\n      },\n      id: \"btn-aprovar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Aprovar\") : null, React.createElement(\"div\", {\n      id: \"listar-ocorrencias\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      id: \"search-box\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"search\",\n      placeholder: \"Procurar por nome ...\",\n      onChange: this.handleChange,\n      value: this.state.search,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Buscar\")), React.createElement(\"section\", {\n      id: \"table-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      id: \"ocurrences\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      id: \"table-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Nome\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Local\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Data-Hora\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Tipo\")), this.state.ocorrencias.map(ocorrencia => React.createElement(\"tr\", {\n      id: \"table-data\",\n      key: ocorrencia.id,\n      onClick: () => this.handleTableClick(ocorrencia.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, ocorrencia.nome), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, ocorrencia.local), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(Moment, {\n      date: new Date(ocorrencia.datahora),\n      format: \"DD/MM/YYYY HH:MM\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    })), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, ocorrencia.tipo))))))), React.createElement(\"div\", {\n      id: \"mais-detalhes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      id: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, this.state.ocorrencias.map(ocorrencia => React.createElement(\"table\", {\n      id: \"ocurrences\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"Nome\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, ocorrencia.nome)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"Local\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, ocorrencia.local)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Data Hora\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(Moment, {\n      date: new Date(ocorrencia.datahora),\n      format: \"DD/MM/YYYY HH:MM\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }))), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Tipo\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, ocorrencia.tipo)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Solicitante\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, ocorrencia.solicitante)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"Tipo Explosivo\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, ocorrencia.tipoexplosivo)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"Tipo Objeto\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, ocorrencia.tipoobjeto)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Caracter\\xEDsticas F\\xEDsicas\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, ocorrencia.caracteristicasfisicas)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"Motiva\\xE7\\xE3o\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, ocorrencia.motivacao)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"IIS\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, ocorrencia.iis)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"Metodologia\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, ocorrencia.metodologia)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"Policial\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, ocorrencia.policial)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"Administrador\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, ocorrencia.administrador)), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"Observa\\xE7\\xF5es\"), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, ocorrencia.observacoes))))))), React.createElement(\"div\", {\n      id: \"cadastrar-ocorrencias\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      id: \"new-ocurrence\",\n      onSubmit: this.handleFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"nome\",\n      placeholder: \"Digite o nome ...\",\n      onChange: this.handleChange,\n      value: this.state.nome,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"local\",\n      placeholder: \"Digite o local ...\",\n      onChange: this.handleChange,\n      value: this.state.local,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"datetime-local\",\n      name: \"datahora\",\n      onChange: this.handleChange,\n      value: this.state.datahora,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"tipo\",\n      placeholder: \"Digite o tipo ...\",\n      onChange: this.handleChange,\n      value: this.state.tipo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"solicitante\",\n      placeholder: \"Digite o solicitante ...\",\n      onChange: this.handleChange,\n      value: this.state.solicitante,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"tipoexplosivo\",\n      placeholder: \"Digite a tipo explosivo ...\",\n      onChange: this.handleChange,\n      value: this.state.tipoexplosivo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"tipoobjeto\",\n      placeholder: \"Digite o tipo objeto ...\",\n      onChange: this.handleChange,\n      value: this.state.tipoobjeto,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"caracteristicasfisicas\",\n      placeholder: \"Digite as caracteristicas fisicas ...\",\n      onChange: this.handleChange,\n      value: this.state.caracteristicasfisicas,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"motivacao\",\n      placeholder: \"Digite a motivacao ...\",\n      onChange: this.handleChange,\n      value: this.state.motivacao,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"iis\",\n      placeholder: \"Digite o iis ...\",\n      onChange: this.handleChange,\n      value: this.state.iis,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"metodologia\",\n      placeholder: \"Digite a metodologia ...\",\n      onChange: this.handleChange,\n      value: this.state.metodologia,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"observacoes\",\n      placeholder: \"Digite uma observa\\xE7\\xE3o se desejar ...\",\n      onChange: this.handleChange,\n      value: this.state.observacoes,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }, \"Cadastrar\"))), React.createElement(\"div\", {\n      id: \"aprovar-ocorrencias\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      id: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      id: \"ocurrences\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352\n      },\n      __self: this\n    }, React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      id: \"table-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, \"Nome\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, \"Local\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }, \"Data-Hora\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, \"Tipo\")), this.state.ocorrencias.map(ocorrencia => React.createElement(\"tr\", {\n      id: \"table-data\",\n      key: ocorrencia.id,\n      onClick: () => this.handleTableClick(ocorrencia.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, ocorrencia.nome), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, ocorrencia.local), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, React.createElement(Moment, {\n      date: new Date(ocorrencia.datahora),\n      format: \"DD/MM/YYYY HH:MM\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    })), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, ocorrencia.tipo))))))), React.createElement(\"div\", {\n      id: \"button-aprovar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.handleAprovarClick(this.state.currentId),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, \"Aprovar\")));\n  }\n\n}\n\nexport default Ocorrencias;","map":{"version":3,"sources":["/Users/gustavosantoro/Documents/repos/siriex/frontend/src/pages/ocorrencias.js"],"names":["React","Component","api","Moment","Ocorrencias","state","search","nome","local","datahora","tipo","solicitante","tipoexplosivo","tipoobjeto","caracteristicasfisicas","motivacao","iis","metodologia","aprovado","policial","props","location","administrador","observacoes","currentId","ocorrencias","admin","showNotApproved","e","response","get","setState","data","handleChange","target","name","value","handleSubmit","preventDefault","post","handleFormSubmit","alert","componentDidMount","handleTableClick","id","x","document","getElementById","style","display","y","z","handleAprovarClick","render","showListar","change","showCadastrar","showAprovar","map","ocorrencia","Date"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './pages.css'\nimport api from '../services/api';\nimport Moment from 'react-moment';\n\nclass Ocorrencias extends Component {\n\n    state = {\n        search: null,\n        nome: null,\n        local: null,\n        datahora: null,\n        tipo: null,\n        solicitante: null,\n        tipoexplosivo: null,\n        tipoobjeto: null,\n        caracteristicasfisicas: null,\n        motivacao: null,\n        iis: null,\n        metodologia: null,\n        aprovado: false,\n        policial: this.props.location.state.policial,  // preciso fazer a lógica para pegar o atual user\n        administrador: this.props.location.state.administrador, // preciso fazer a lógica de pegar o administrador que aprovar.\n        observacoes: null,\n        currentId: 0,\n        ocorrencias: [],\n        admin: this.props.location.state.admin\n    };\n\n    async componentDidMount(){\n        const response = await api.get('occurrences');\n        this.setState({ocorrencias: response.data});    \n        // console.log(\"User: \", this.state.policial);\n        // console.log(\"ADMIN: \", this.state.admin);\n        // console.log(\"User2: \", this.state.administrador);\n    }\n\n    showNotApproved = async e =>{\n        const response = await api.get('occurrencesnot');\n        this.setState({ocorrencias: response.data});\n    }\n\n    handleChange = e => {\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    handleSubmit = async e => {\n        e.preventDefault();      \n        const response = await api.post(`/occurrences/${this.state.search}`);\n        this.setState({ocorrencias: response.data});\n    }\n\n    handleFormSubmit = async e => {\n        e.preventDefault();\n\n        const data = {\n            nome: this.state.nome,\n            local: this.state.local,\n            datahora: this.state.datahora,\n            tipo: this.state.tipo,\n            solicitante: this.state.solicitante,\n            tipoexplosivo: this.state.tipoexplosivo,\n            tipoobjeto: this.state.tipoobjeto,\n            caracteristicasfisicas: this.state.caracteristicasfisicas,\n            motivacao: this.state.motivacao,\n            iis: this.state.iis,\n            metodologia: this.state.metodologia,\n            aprovado: this.state.aprovado,\n            policial: this.state.policial,\n            observacoes: this.state.observacoes\n        }\n\n        if(data.nome && data.local && data.datahora && data.tipo && data.solicitante &&\n            data.tipoexplosivo && data.tipoobjeto && data.caracteristicasfisicas && \n            data.motivacao && data.iis && data.metodologia){\n                await api.post('/newoccurrence', data);\n                alert(\"Ocorrência cadastrada com sucesso.\");\n                \n        }\n        else{\n            alert(\"Preencha todos os campos, apenas observações é opcional.\");\n            \n        }\n    }\n\n    async handleTableClick(id) {\n        var x = document.getElementById(\"listar-ocorrencias\");\n        x.style.display = \"none\";\n        var y = document.getElementById(\"aprovar-ocorrencias\");\n        y.style.display = \"none\";\n        var z = document.getElementById(\"mais-detalhes\");\n        z.style.display = \"block\";\n\n        this.setState({currentId: id});\n\n        const response = await api.post(`/occurrences/id/${id}`);\n        this.setState({ocorrencias: response.data});\n    }\n\n    async handleAprovarClick(id) { \n        if(id === 0){\n            alert(\"nenhuma ocorrencia selecionada, por favor selecione uma\");\n        }\n        else{\n            const response = await api.post(`/occurrences/aprove/${id}&${this.state.administrador}`); \n            if(response){\n                alert(\"Ocorrência aprovada.\");\n                \n            }\n            // preciso implementar passando o atual usuário\n        }       \n    }  \n\n    render(){\n\n        function showListar(){       \n            change();       \n            var x = document.getElementById(\"listar-ocorrencias\");\n            x.style.display = \"block\";\n        }\n\n        function showCadastrar(){\n            change();\n            var x = document.getElementById(\"cadastrar-ocorrencias\");\n            x.style.display = \"block\";\n        }\n\n        function showAprovar(){\n            change();\n            var x = document.getElementById(\"aprovar-ocorrencias\");\n            x.style.display = \"block\";\n            var y = document.getElementById(\"button-aprovar\");\n            y.style.display = \"block\";\n        }\n\n        function change(){\n            var x = document.getElementById(\"btn-listar\");\n            x.style.display = \"none\";\n            var y = document.getElementById(\"btn-cadastrar\");\n            y.style.display = \"none\";\n            var z = document.getElementById(\"btn-aprovar\");\n            if(z)\n                z.style.display = \"none\";\n        }\n\n        return (        \n            <div id=\"app\">\n                <p>OCORRÊNCIAS</p>\n                <button onClick={showListar} id=\"btn-listar\">Listar</button>\n                <button onClick={showCadastrar} id=\"btn-cadastrar\">Cadastrar</button>\n                {/* se não for admin ocultar */}\n                {\n                    this.state.admin ? \n                    (<button onClick={() => {this.showNotApproved() ;\n                         showAprovar()} } id=\"btn-aprovar\">Aprovar</button>\n                    ) : null \n                }\n                \n                <div id=\"listar-ocorrencias\">\n                    <form id=\"search-box\" onSubmit={this.handleSubmit}>\n                        <input \n                            type=\"text\"\n                            name=\"search\"\n                            placeholder=\"Procurar por nome ...\"\n                            onChange={this.handleChange}\n                            value={this.state.search}\n                        />\n                        <button type=\"submit\">Buscar</button>\n                    </form>\n\n                    <section id=\"table-section\">\n                        <table id=\"ocurrences\">\n                            <tbody>\n                                <tr id=\"table-header\">\n                                    <th>Nome</th>\n                                    <th>Local</th>\n                                    <th>Data-Hora</th>\n                                    <th>Tipo</th>\n                                </tr>                           \n                                { this.state.ocorrencias.map(ocorrencia => (\n                                    <tr id=\"table-data\" key={ocorrencia.id} onClick={() => this.handleTableClick(ocorrencia.id)}>\n                                        <th>{ocorrencia.nome}</th>\n                                        <th>{ocorrencia.local}</th>\n                                        <th><Moment date={new Date(ocorrencia.datahora)} format=\"DD/MM/YYYY HH:MM\"/></th>\n                                        <th>{ocorrencia.tipo}</th>\n                                    </tr>                         \n                                ))}                                    \n                            </tbody>    \n                        </table>              \n                    </section>\n                </div>\n                                    \n                <div id=\"mais-detalhes\">    \n                    <section id=\"table\">                \n                        { this.state.ocorrencias.map(ocorrencia => (   \n                            <table id=\"ocurrences\"> \n                                <tbody>  \n                                    <tr>\n                                        <th>Nome</th>\n                                        <td>{ocorrencia.nome}</td>\n                                    </tr>     \n                                    <tr>\n                                        <th>Local</th>\n                                        <td>{ocorrencia.local}</td>\n                                    </tr>                  \n                                    <tr>\n                                        <th>Data Hora</th>\n                                        <td><Moment date={new Date(ocorrencia.datahora)} format=\"DD/MM/YYYY HH:MM\"/></td>\n                                    </tr>  \n                                    <tr>\n                                        <th>Tipo</th>\n                                        <td>{ocorrencia.tipo}</td>\n                                    </tr>  \n                                    <tr>\n                                        <th>Solicitante</th>\n                                        <td>{ocorrencia.solicitante}</td>\n                                    </tr>  \n                                    <tr>\n                                        <th>Tipo Explosivo</th>\n                                        <td>{ocorrencia.tipoexplosivo}</td>\n                                    </tr>  \n                                    <tr>\n                                        <th>Tipo Objeto</th>\n                                        <td>{ocorrencia.tipoobjeto}</td>\n                                    </tr>  \n                                    <tr>\n                                        <th>Características Físicas</th>\n                                        <td>{ocorrencia.caracteristicasfisicas}</td>\n                                    </tr>  \n                                    <tr>\n                                        <th>Motivação</th>\n                                        <td>{ocorrencia.motivacao}</td>\n                                    </tr>  \n                                    <tr>\n                                        <th>IIS</th>\n                                        <td>{ocorrencia.iis}</td>\n                                    </tr>  \n                                    <tr>\n                                        <th>Metodologia</th>\n                                        <td>{ocorrencia.metodologia}</td>\n                                    </tr>       \n                                    <tr>\n                                        <th>Policial</th>\n                                        <td>{ocorrencia.policial}</td>\n                                    </tr>       \n                                    <tr>\n                                        <th>Administrador</th>\n                                        <td>{ocorrencia.administrador}</td>\n                                    </tr>  \n                                    <tr>\n                                        <th>Observações</th>\n                                        <td>{ocorrencia.observacoes}</td>\n                                    </tr>  \n                                </tbody>            \n                            </table>           \n                        ))}               \n                    </section>                                         \n                </div>\n\n                <div id=\"cadastrar-ocorrencias\">\n                    <form id=\"new-ocurrence\" onSubmit={this.handleFormSubmit}>\n                        <input                             \n                            type=\"text\"\n                            name=\"nome\"\n                            placeholder=\"Digite o nome ...\"\n                            onChange={this.handleChange}\n                            value={this.state.nome}\n                        />\n                        <input                             \n                            type=\"text\"\n                            name=\"local\"\n                            placeholder=\"Digite o local ...\"\n                            onChange={this.handleChange}\n                            value={this.state.local}\n                        />\n                        <input                             \n                            type=\"datetime-local\"\n                            name=\"datahora\"\n                            \n                            onChange={this.handleChange}\n                            value={this.state.datahora}\n                        />\n                        <input                             \n                            type=\"text\"\n                            name=\"tipo\"\n                            placeholder=\"Digite o tipo ...\"\n                            onChange={this.handleChange}\n                            value={this.state.tipo}\n                        />\n                        <input                             \n                            type=\"text\"\n                            name=\"solicitante\"\n                            placeholder=\"Digite o solicitante ...\"\n                            onChange={this.handleChange}\n                            value={this.state.solicitante}\n                        />\n                        <input                             \n                            type=\"text\"\n                            name=\"tipoexplosivo\"\n                            placeholder=\"Digite a tipo explosivo ...\"\n                            onChange={this.handleChange}\n                            value={this.state.tipoexplosivo}\n                        />\n                        <input                             \n                            type=\"text\"\n                            name=\"tipoobjeto\"\n                            placeholder=\"Digite o tipo objeto ...\"\n                            onChange={this.handleChange}\n                            value={this.state.tipoobjeto}\n                        />\n                        <input                             \n                            type=\"text\"\n                            name=\"caracteristicasfisicas\"\n                            placeholder=\"Digite as caracteristicas fisicas ...\"\n                            onChange={this.handleChange}\n                            value={this.state.caracteristicasfisicas}\n                        />\n                        <input                             \n                            type=\"text\"\n                            name=\"motivacao\"\n                            placeholder=\"Digite a motivacao ...\"\n                            onChange={this.handleChange}\n                            value={this.state.motivacao}\n                        />\n                        <input                             \n                            type=\"text\"\n                            name=\"iis\"\n                            placeholder=\"Digite o iis ...\"\n                            onChange={this.handleChange}\n                            value={this.state.iis}\n                        />\n                        <input                             \n                            type=\"text\"\n                            name=\"metodologia\"\n                            placeholder=\"Digite a metodologia ...\"\n                            onChange={this.handleChange}\n                            value={this.state.metodologia}\n                        />\n                        <input                             \n                            type=\"text\"\n                            name=\"observacoes\"\n                            placeholder=\"Digite uma observação se desejar ...\"\n                            onChange={this.handleChange}\n                            value={this.state.observacoes}\n                        />\n                        <button type=\"submit\" >Cadastrar</button>\n                    </form>\n                </div>\n\n                <div id=\"aprovar-ocorrencias\">\n                    <section id=\"table\">                \n                        <table id=\"ocurrences\">\n                            <tbody>\n                                <tr id=\"table-header\">\n                                    <th>Nome</th>\n                                    <th>Local</th>\n                                    <th>Data-Hora</th>\n                                    <th>Tipo</th>\n                                </tr>                           \n                                { this.state.ocorrencias.map(ocorrencia => (\n                                    <tr id=\"table-data\" key={ocorrencia.id} onClick={() => this.handleTableClick(ocorrencia.id)}>\n                                        <th>{ocorrencia.nome}</th>\n                                        <th>{ocorrencia.local}</th>\n                                        <th><Moment date={new Date(ocorrencia.datahora)} format=\"DD/MM/YYYY HH:MM\"/></th>\n                                        <th>{ocorrencia.tipo}</th>\n                                    </tr>                         \n                                ))}                                    \n                            </tbody>    \n                        </table> \n                    </section>     \n                </div>\n\n                <div id=\"button-aprovar\">\n                    <button onClick={() => this.handleAprovarClick(this.state.currentId)}>Aprovar</button>   \n                </div>\n\n\n            </div>\n        );\n    }\n}\n\nexport default Ocorrencias;"]},"metadata":{},"sourceType":"module"}